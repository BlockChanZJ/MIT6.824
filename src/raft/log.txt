Test (2B): no agreement if too many followers disconnect ...
====================================================
============== 1 becomes CANDIDATE =================
====================================================
[me = 1], currentTerm = 1, status = 1, votedFor = -1, commitIndex = 0, log = [{0 <nil>}]
################################################
############## 1 becomes LEADER ################
################################################
=================PRINT MSG START=================
[me = 0], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
[me = 1], currentTerm = 1, status = 2, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
[me = 1], matchIndex = [0 0 0 0 0]
[me = 2], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
[me = 3], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
[me = 4], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
==================PRINT MSG END==================
synchronize log....!
synchronizeLog Done!!!!
old commitIndex = 0, new commitIndex = 0
=================PRINT MSG START=================
[me = 0], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
[me = 1], currentTerm = 1, status = 2, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
[me = 1], matchIndex = [0 0 0 0 0]
[me = 2], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
[me = 3], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
[me = 4], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 0, log = [{0 <nil>}]
==================PRINT MSG END==================
[sync] : me = 1, log = [{0 <nil>}]
synchronize Done!
synchronize log....!
[try update sync log] : me = 1, server = 4, log = [{1 10}]
[try update sync log] : me = 1, server = 2, log = [{1 10}]
[try update sync log] : me = 1, server = 0, log = [{1 10}]
[try update sync log] : me = 1, server = 3, log = [{1 10}]
[try update sync log] : me = 1, server = 0, log = [{1 10}], ok = true, success = true
[try update sync log] : me = 1, server = 4, log = [{1 10}], ok = true, success = true
[try update sync log] : me = 1, server = 2, log = [{1 10}], ok = true, success = true
[try update sync log] : me = 1, server = 3, log = [{1 10}], ok = true, success = true
synchronizeLog Done!!!!
old commitIndex = 0, new commitIndex = 1
[commitIndex update] : me = 3, prev = 0, curr = 1, log = [{0 <nil>} {1 10}]
[sendServerLogMsg] : 3 send log[1-1] to server! log_length = 2
[commitIndex update] : me = 2, prev = 0, curr = 1, log = [{0 <nil>} {1 10}]
[sendServerLogMsg] : 2 send log[1-1] to server! log_length = 2
[commitIndex update] : me = 4, prev = 0, curr = 1, log = [{0 <nil>} {1 10}]
[sendServerLogMsg] : 4 send log[1-1] to server! log_length = 2
[commitIndex update] : me = 0, prev = 0, curr = 1, log = [{0 <nil>} {1 10}]
[sendServerLogMsg] : 0 send log[1-1] to server! log_length = 2
[sendServerLogMsg] : 1 send log[1-1] to server! log_length = 2
=================PRINT MSG START=================
[me = 0], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 1], currentTerm = 1, status = 2, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 1], matchIndex = [1 0 1 1 1]
[me = 2], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 3], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 4], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
==================PRINT MSG END==================
[sync] : me = 1, log = [{0 <nil>} {1 10}]
synchronize Done!
[start] : me = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
=================PRINT MSG START=================
[me = 0], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 1], currentTerm = 1, status = 2, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 1], matchIndex = [1 0 1 1 1]
[me = 2], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 3], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 4], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
==================PRINT MSG END==================
index = 1, term = 1, isLeader = true
cmd1 = 10, ok = true, cfg.logs[0] = map[1:10], index = 1
cmd1 = 10, ok = true, cfg.logs[1] = map[1:10], index = 1
cmd1 = 10, ok = true, cfg.logs[2] = map[1:10], index = 1
cmd1 = 10, ok = true, cfg.logs[3] = map[1:10], index = 1
cmd1 = 10, ok = true, cfg.logs[4] = map[1:10], index = 1
Leader = 1 and (2, 3, 4) disconnect!!!
synchronize log....!
[try update sync log] : me = 1, server = 0, log = [{1 20}]
[try update sync log] : me = 1, server = 4, log = [{1 20}]
[try update sync log] : me = 1, server = 2, log = [{1 20}]
[try update sync log] : me = 1, server = 3, log = [{1 20}]
[try update sync log] : me = 1, server = 0, log = [{1 20}], ok = true, success = true
[try update sync log] : me = 1, server = 4, log = [{1 20}], ok = false, success = false
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 2, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[try update sync log] : me = 1, server = 3, log = [{1 20}], ok = false, success = false
[try update sync log] : me = 1, server = 2, log = [{1 20}], ok = false, success = false
synchronizeLog Done!!!!
old commitIndex = 1, new commitIndex = 1
=================PRINT MSG START=================
[me = 0], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 1], currentTerm = 1, status = 2, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 1], matchIndex = [2 0 1 1 1]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 2, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 2, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 3, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
==================PRINT MSG END==================
[sync] : me = 1, log = [{0 <nil>} {1 10} {1 20}]
synchronize Done!
====================================================
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 3, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 3, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 4, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 4, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 4, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 5, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 5, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 5, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 6, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 6, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 6, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 7, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 7, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 7, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 8, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 8, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 9, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 8, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 10, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[start] : me = 1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
=================PRINT MSG START=================
[me = 0], currentTerm = 1, status = 0, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 1], currentTerm = 1, status = 2, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 1], matchIndex = [2 0 1 1 1]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 9, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 9, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 10, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 11, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 10, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
==================PRINT MSG END==================
index = 2, term = 1, isLeader = true
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 11, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 11, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 12, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 12, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 12, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 13, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 14, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 13, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
cmd1 = 0, ok = false, cfg.logs[0] = map[1:10], index = 2
cmd1 = 0, ok = false, cfg.logs[1] = map[1:10], index = 2
cmd1 = 0, ok = false, cfg.logs[2] = map[1:10], index = 2
cmd1 = 0, ok = false, cfg.logs[3] = map[1:10], index = 2
cmd1 = 0, ok = false, cfg.logs[4] = map[1:10], index = 2
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~ 1 becomes FOLLOWER ~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 13, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 15, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 0 becomes CANDIDATE =================
====================================================
[me = 0], currentTerm = 2, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 14, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 1 becomes CANDIDATE =================
====================================================
[me = 1], currentTerm = 13, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
################################################
############## 1 becomes LEADER ################
################################################
=================PRINT MSG START=================
[me = 0], currentTerm = 13, status = 1, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 1], currentTerm = 13, status = 2, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 1], matchIndex = [0 0 0 0 0]
[me = 2], currentTerm = 14, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 3], currentTerm = 13, status = 1, votedFor = 1, commitIndex = 1, log = [{0 <nil>} {1 10}]
[me = 4], currentTerm = 15, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
==================PRINT MSG END==================
synchronize log....!
[try update sync log] : me = 1, server = 4, log = [{1 10} {1 20}]
[try update sync log] : me = 1, server = 0, log = [{1 10} {1 20}]
[try update sync log] : me = 1, server = 4, log = [{1 10} {1 20}], ok = true, success = false
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~ 1 becomes FOLLOWER ~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[try update sync log] : me = 1, server = 2, log = [{1 10} {1 20}]
[try update sync log] : me = 1, server = 0, log = [{1 10} {1 20}], ok = true, success = true
[try update sync log] : me = 1, server = 3, log = [{1 10} {1 20}]
[try update sync log] : me = 1, server = 2, log = [{1 10} {1 20}], ok = true, success = true
[try update sync log] : me = 1, server = 3, log = [{1 10} {1 20}], ok = true, success = true
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 15, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 16, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 14, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
====================================================
============== 0 becomes CANDIDATE =================
====================================================
[me = 0], currentTerm = 16, status = 1, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
################################################
############## 0 becomes LEADER ################
################################################
=================PRINT MSG START=================
[me = 0], currentTerm = 16, status = 2, votedFor = 0, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 0], matchIndex = [0 0 0 0 0]
[me = 1], currentTerm = 15, status = 0, votedFor = -1, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 2], currentTerm = 16, status = 1, votedFor = 0, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 3], currentTerm = 16, status = 1, votedFor = 0, commitIndex = 1, log = [{0 <nil>} {1 10} {1 20}]
[me = 4], currentTerm = 16, status = 1, votedFor = 0, commitIndex = 1, log = [{0 <nil>} {1 10}]
==================PRINT MSG END==================
synchronize log....!
[try update sync log] : me = 0, server = 4, log = [{1 10} {1 20}]
[try update sync log] : me = 0, server = 1, log = [{1 10} {1 20}]
[try update sync log] : me = 0, server = 2, log = [{1 10} {1 20}]
[try update sync log] : me = 0, server = 3, log = [{1 10} {1 20}]
[try update sync log] : me = 0, server = 4, log = [{1 10} {1 20}], ok = true, success = true
[try update sync log] : me = 0, server = 1, log = [{1 10} {1 20}], ok = true, success = true
[try update sync log] : me = 0, server = 2, log = [{1 10} {1 20}], ok = true, success = true
[try update sync log] : me = 0, server = 3, log = [{1 10} {1 20}], ok = true, success = true
synchronizeLog Done!!!!
matchIndex = [2 2 2 2]
old commitIndex = 1, new commitIndex = 2
[commitIndex update] : me = 4, prev = 1, curr = 2, log = [{0 <nil>} {1 10} {1 20}]
[sendServerLogMsg] : 4 send log[2-2] to server! log_length = 3
[commitIndex update] : me = 2, prev = 1, curr = 2, log = [{0 <nil>} {1 10} {1 20}]
[sendServerLogMsg] : 2 send log[2-2] to server! log_length = 3
[commitIndex update] : me = 1, prev = 1, curr = 2, log = [{0 <nil>} {1 10} {1 20}]
[sendServerLogMsg] : 1 send log[2-2] to server! log_length = 3
[commitIndex update] : me = 3, prev = 1, curr = 2, log = [{0 <nil>} {1 10} {1 20}]
[sendServerLogMsg] : 3 send log[2-2] to server! log_length = 3
synchronize log....!
[try update sync log] : me = 0, server = 2, log = [{16 30}]
[try update sync log] : me = 0, server = 1, log = [{16 30}]
[try update sync log] : me = 0, server = 4, log = [{16 30}]
[try update sync log] : me = 0, server = 3, log = [{16 30}]
[try update sync log] : me = 0, server = 2, log = [{16 30}], ok = true, success = true
[try update sync log] : me = 0, server = 4, log = [{16 30}], ok = true, success = true
[try update sync log] : me = 0, server = 1, log = [{16 30}], ok = true, success = true
[try update sync log] : me = 0, server = 3, log = [{16 30}], ok = true, success = true
synchronizeLog Done!!!!
matchIndex = [3 3 3 3]
old commitIndex = 2, new commitIndex = 3
[commitIndex update] : me = 2, prev = 2, curr = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[sendServerLogMsg] : 2 send log[3-3] to server! log_length = 4
[commitIndex update] : me = 3, prev = 2, curr = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[sendServerLogMsg] : 3 send log[3-3] to server! log_length = 4
[commitIndex update] : me = 1, prev = 2, curr = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[sendServerLogMsg] : 1 send log[3-3] to server! log_length = 4
[commitIndex update] : me = 4, prev = 2, curr = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[sendServerLogMsg] : 4 send log[3-3] to server! log_length = 4
[sendServerLogMsg] : 0 send log[2-2] to server! log_length = 4
=================PRINT MSG START=================
[me = 0], currentTerm = 16, status = 2, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 0], matchIndex = [0 3 3 3 3]
[me = 1], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 2], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 3], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 4], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
==================PRINT MSG END==================
[sync] : me = 0, log = [{0 <nil>} {1 10} {1 20} {16 30}]
synchronize Done!
[sendServerLogMsg] : 0 send log[3-3] to server! log_length = 4
=================PRINT MSG START=================
[me = 0], currentTerm = 16, status = 2, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 0], matchIndex = [0 3 3 3 3]
[me = 1], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 2], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 3], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 4], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
==================PRINT MSG END==================
[sync] : me = 0, log = [{0 <nil>} {1 10} {1 20} {16 30}]
synchronize Done!
[start] : me = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
=================PRINT MSG START=================
[me = 0], currentTerm = 16, status = 2, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 0], matchIndex = [0 3 3 3 3]
[me = 1], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 2], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 3], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
[me = 4], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 3, log = [{0 <nil>} {1 10} {1 20} {16 30}]
==================PRINT MSG END==================
index = 3, term = 16, isLeader = true
synchronize log....!
[try update sync log] : me = 0, server = 4, log = [{16 1000}]
[try update sync log] : me = 0, server = 2, log = [{16 1000}]
[try update sync log] : me = 0, server = 3, log = [{16 1000}]
[try update sync log] : me = 0, server = 1, log = [{16 1000}]
[try update sync log] : me = 0, server = 4, log = [{16 1000}], ok = true, success = true
[try update sync log] : me = 0, server = 2, log = [{16 1000}], ok = true, success = true
[try update sync log] : me = 0, server = 3, log = [{16 1000}], ok = true, success = true
[try update sync log] : me = 0, server = 1, log = [{16 1000}], ok = true, success = true
synchronizeLog Done!!!!
matchIndex = [4 4 4 4]
old commitIndex = 3, new commitIndex = 4
[commitIndex update] : me = 3, prev = 3, curr = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[sendServerLogMsg] : 3 send log[4-4] to server! log_length = 5
[commitIndex update] : me = 2, prev = 3, curr = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[sendServerLogMsg] : 2 send log[4-4] to server! log_length = 5
[commitIndex update] : me = 4, prev = 3, curr = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[sendServerLogMsg] : 4 send log[4-4] to server! log_length = 5
[commitIndex update] : me = 1, prev = 3, curr = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[sendServerLogMsg] : 1 send log[4-4] to server! log_length = 5
[sendServerLogMsg] : 0 send log[4-4] to server! log_length = 5
=================PRINT MSG START=================
[me = 0], currentTerm = 16, status = 2, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[me = 0], matchIndex = [0 4 4 4 4]
[me = 1], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[me = 2], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[me = 3], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[me = 4], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
==================PRINT MSG END==================
[sync] : me = 0, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
synchronize Done!
[start] : me = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
=================PRINT MSG START=================
[me = 0], currentTerm = 16, status = 2, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[me = 0], matchIndex = [0 4 4 4 4]
[me = 1], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[me = 2], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[me = 3], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[me = 4], currentTerm = 16, status = 0, votedFor = 0, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
==================PRINT MSG END==================
index = 4, term = 16, isLeader = true
cmd1 = 1000, ok = true, cfg.logs[0] = map[1:10 2:20 3:30 4:1000], index = 4
cmd1 = 1000, ok = true, cfg.logs[1] = map[1:10 2:20 3:30 4:1000], index = 4
cmd1 = 1000, ok = true, cfg.logs[2] = map[3:30 4:1000 1:10 2:20], index = 4
cmd1 = 1000, ok = true, cfg.logs[3] = map[1:10 2:20 3:30 4:1000], index = 4
cmd1 = 1000, ok = true, cfg.logs[4] = map[1:10 2:20 3:30 4:1000], index = 4
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!! ... Passed -- !!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!26.1  5  480    4!!!!!!!!!!!!!!!!!!!!
Test (2B): concurrent Start()s ...
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 17, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 17, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 1 becomes CANDIDATE =================
====================================================
[me = 1], currentTerm = 17, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 1, status = 1, votedFor = -1, commitIndex = 0, log = [{0 <nil>}]
################################################
############## 2 becomes LEADER ################
################################################
=================PRINT MSG START=================
[me = 0], currentTerm = 1, status = 0, votedFor = 2, commitIndex = 0, log = [{0 <nil>}]
[me = 1], currentTerm = 1, status = 0, votedFor = 2, commitIndex = 0, log = [{0 <nil>}]
[me = 2], currentTerm = 1, status = 2, votedFor = 2, commitIndex = 0, log = [{0 <nil>}]
[me = 2], matchIndex = [0 0 0]
==================PRINT MSG END==================
synchronize log....!
synchronizeLog Done!!!!
old commitIndex = 0, new commitIndex = 0
=================PRINT MSG START=================
[me = 0], currentTerm = 1, status = 0, votedFor = 2, commitIndex = 0, log = [{0 <nil>}]
[me = 1], currentTerm = 1, status = 0, votedFor = 2, commitIndex = 0, log = [{0 <nil>}]
[me = 2], currentTerm = 1, status = 2, votedFor = 2, commitIndex = 0, log = [{0 <nil>}]
[me = 2], matchIndex = [0 0 0]
==================PRINT MSG END==================
[sync] : me = 2, log = [{0 <nil>}]
synchronize Done!
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 17, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 18, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 1 becomes CANDIDATE =================
====================================================
[me = 1], currentTerm = 18, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
synchronize log....!
[try update sync log] : me = 2, server = 1, log = [{1 1}]
[try update sync log] : me = 2, server = 0, log = [{1 1}]
[try update sync log] : me = 2, server = 1, log = [{1 1}], ok = true, success = true
[try update sync log] : me = 2, server = 0, log = [{1 1}], ok = true, success = true
synchronizeLog Done!!!!
old commitIndex = 0, new commitIndex = 1
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 18, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[commitIndex update] : me = 1, prev = 0, curr = 1, log = [{0 <nil>} {1 1}]
[sendServerLogMsg] : 1 send log[1-1] to server! log_length = 2
[commitIndex update] : me = 0, prev = 0, curr = 1, log = [{0 <nil>} {1 1}]
[sendServerLogMsg] : 0 send log[1-1] to server! log_length = 2
====================================================
============== 1 becomes CANDIDATE =================
====================================================
[me = 1], currentTerm = 19, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 19, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 18, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 19, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
[sendServerLogMsg] : 2 send log[1-1] to server! log_length = 2
=================PRINT MSG START=================
[me = 0], currentTerm = 1, status = 0, votedFor = 2, commitIndex = 1, log = [{0 <nil>} {1 1}]
[me = 1], currentTerm = 1, status = 0, votedFor = 2, commitIndex = 1, log = [{0 <nil>} {1 1}]
[me = 2], currentTerm = 1, status = 2, votedFor = 2, commitIndex = 1, log = [{0 <nil>} {1 1}]
[me = 2], matchIndex = [1 1 0]
==================PRINT MSG END==================
[sync] : me = 2, log = [{0 <nil>} {1 1}]
synchronize Done!
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 20, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 19, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 20, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 1 becomes CANDIDATE =================
====================================================
[me = 1], currentTerm = 20, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 21, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 1 becomes CANDIDATE =================
====================================================
[me = 1], currentTerm = 21, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 21, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 20, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 22, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 22, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 1 becomes CANDIDATE =================
====================================================
[me = 1], currentTerm = 22, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 21, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 2 becomes CANDIDATE =================
====================================================
[me = 2], currentTerm = 23, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 3 becomes CANDIDATE =================
====================================================
[me = 3], currentTerm = 23, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 4 becomes CANDIDATE =================
====================================================
[me = 4], currentTerm = 22, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
====================================================
============== 1 becomes CANDIDATE =================
====================================================
[me = 1], currentTerm = 23, status = 1, votedFor = -1, commitIndex = 4, log = [{0 <nil>} {1 10} {1 20} {16 30} {16 1000}]
